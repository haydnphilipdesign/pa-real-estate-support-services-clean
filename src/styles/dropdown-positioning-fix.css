/**
 * STREAMLINED DROPDOWN POSITIONING FIX
 * Addresses the dropdown positioning issues without conflicting CSS
 */

/* Clear any conflicting transforms that might interfere with dropdown positioning */
html body [data-transaction-page="true"] {
  /* Establish a clean stacking context */
  transform: none !important;
  will-change: auto !important;
}

/* Ensure transaction form containers don't interfere with dropdown portals */
html body [data-transaction-page="true"] .tf-property-info,
html body [data-transaction-page="true"] .tf-role-selection,
html body [data-transaction-page="true"] .transaction-form,
html body [data-transaction-page="true"] .unified-transaction-form {
  /* Prevent creation of new stacking contexts that interfere with portals */
  isolation: auto !important;
  contain: none !important;
}

/* Radix Select trigger positioning */
html body [data-transaction-page="true"] [data-radix-select-trigger] {
  position: relative !important;
  z-index: 1 !important;
  /* Ensure triggers are properly positioned */
  transform: none !important;
}

/* Radix Select content positioning - more precise approach */
[data-radix-select-content] {
  /* Use fixed positioning for reliable placement */
  position: fixed !important;
  z-index: 50 !important;
  
  /* Remove any conflicting transforms */
  transform: none !important;
  will-change: auto !important;
  
  /* Ensure proper styling */
  background: #ffffff !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 8px !important;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04) !important;
  
  /* Constrain size */
  max-height: 200px !important;
  overflow-y: auto !important;
  min-width: var(--radix-select-trigger-width) !important;
  
  /* Clean spacing */
  margin: 0 !important;
  padding: 0.25rem !important;
}

/* Ensure dropdown portal has proper z-index but doesn't interfere */
[data-radix-select-portal] {
  z-index: 50 !important;
}

/* Dropdown items styling */
[data-radix-select-item] {
  color: #1f2937 !important;
  padding: 0.75rem 1rem !important;
  font-size: 0.875rem !important;
  cursor: pointer !important;
  transition: background-color 0.15s ease !important;
}

[data-radix-select-item]:hover,
[data-radix-select-item][data-highlighted] {
  background: #f3f4f6 !important;
  color: #1f2937 !important;
  outline: none !important;
}

/* Fix for glass cards that might interfere */
html body .tf-glass-card {
  /* Ensure glass cards don't create conflicting stacking contexts */
  position: relative !important;
  z-index: 0 !important;
  overflow: visible !important;
}

/* Specific fix for property rows and form groups */
html body .tf-property-row,
html body .tf-form-group {
  position: relative !important;
  z-index: 1 !important;
  overflow: visible !important;
}

/* Remove any problematic transforms from the transaction page */
html body [data-transaction-page="true"] * {
  /* Only clear transforms that might interfere with positioning */
  transform: none !important;
}

/* Restore specific transforms we want to keep */
html body .tf-role-card:hover {
  transform: translateY(-2px) !important;
}

html body .tf-nav-button:hover {
  transform: translateY(-1px) !important;
}

/* Progress bar animations */
html body .progress-bar {
  transform: none !important;
}

html body .progress-bar-fill {
  transform: scaleX(var(--progress)) !important;
}