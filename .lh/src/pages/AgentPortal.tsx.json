{
    "sourceFile": "src/pages/AgentPortal.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1748047112185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748047456209,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,14 +92,14 @@\n \n     // Testimonial content is now shown directly in the JSX\n \n   return (\n-    <div className=\"h-screen bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300\" id=\"agent-portal-page\">\n+    <div className=\"min-h-screen bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300\" id=\"agent-portal-page\">\n       <AnimatePresence mode=\"wait\">\n         {isPasswordProtected ? (\n           <motion.div\n             key=\"login\"\n-            className=\"h-screen flex flex-col\"\n+            className=\"min-h-screen flex flex-col\"\n             initial={{ opacity: 0, y: 20 }}\n             animate={{\n               opacity: 1,\n               y: 0,\n"
                },
                {
                    "date": 1748047667015,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -354,9 +354,9 @@\n           </motion.div>\n         ) : (\n           <motion.div\n             key=\"form\"\n-            className=\"h-screen bg-gradient-to-br from-gray-50 to-gray-100\"\n+            className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100\"\n             initial={{ opacity: 0, y: 20 }}\n             animate={{\n               opacity: 1,\n               y: 0,\n"
                }
            ],
            "date": 1748047112184,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { FileText, Shield, Clock, Lock, Eye, EyeOff, CheckCircle, RefreshCw, ChevronRight, Home, ArrowUpRight, Users } from 'lucide-react';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { toast } from '../components/ui/simple-toast';\nimport { TransactionForm } from '../components/TransactionForm/TransactionForm';\nimport useScrollToTop from '../hooks/useScrollToTop';\nimport { Link } from '../components/GlobalLinkProvider';\n// Import CSS via centralized helper\nimport { ensureCssImported } from '../components/FixedCssImport';\n\n// Ensure CSS is imported\nensureCssImported();\n\n// Password for accessing the form - use from environment variables if available\nconst FORM_PASSWORD = import.meta.env.VITE_PORTAL_PASSWORD || 'KWAgent2025!';\n\nconst AgentPortal = (): JSX.Element => {\n  useScrollToTop();\n\n  // State for password protection\n  const [showForm, setShowForm] = useState(false);\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [isPasswordChecking, setIsPasswordChecking] = useState(false);\n  const [isPasswordProtected, setIsPasswordProtected] = useState(true);\n  const [rememberMe, setRememberMe] = useState(false);\n\n  // Check for saved credentials on component mount\n  useEffect(() => {\n    const savedAuth = localStorage.getItem('agentAuth');\n    if (savedAuth === FORM_PASSWORD) {\n      setIsPasswordProtected(false);\n      setShowForm(true);\n    }\n  }, []);\n\n  // Handle password submission\n  const handlePasswordSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsPasswordChecking(true);\n\n    // Simulate a slight delay for UX\n    setTimeout(() => {\n      if (password === FORM_PASSWORD) {\n        setIsPasswordProtected(false);\n        setShowForm(true);\n        if (rememberMe) {\n          localStorage.setItem('agentAuth', password);\n        }\n        toast({\n          title: \"Access granted\",\n          description: \"Welcome to the Agent Portal\",\n        });\n      } else {\n        toast({\n          title: \"Access denied\",\n          description: \"The password you entered is incorrect\",\n          variant: \"destructive\",\n        });\n      }\n      setIsPasswordChecking(false);\n    }, 800);\n  };\n\n  // Features list for the password-protected view\n  const features = [\n    {\n      icon: FileText,\n      title: \"Streamlined Documentation\",\n      description: \"Submit transaction details through a user-friendly form designed for real estate professionals.\"\n    },\n    {\n      icon: Shield,\n      title: \"Secure Handling\",\n      description: \"Your transaction information is securely processed and stored with industry-standard encryption.\"\n    },\n    {\n      icon: Clock,\n      title: \"Time-Saving\",\n      description: \"Save hours on paperwork and follow-ups with our efficient transaction coordination service.\"\n    }\n  ];\n\n  // Additional features and stats for enhanced display\n  const stats = [\n    { value: \"500+\", label: \"Transactions Completed\" },\n    { value: \"24/7\", label: \"Support Available\" },\n    { value: \"15+\", label: \"Counties Served\" }\n  ];\n\n    // Testimonial content is now shown directly in the JSX\n\n  return (\n    <div className=\"h-screen bg-gradient-to-br from-gray-100 via-gray-200 to-gray-300\" id=\"agent-portal-page\">\n      <AnimatePresence mode=\"wait\">\n        {isPasswordProtected ? (\n          <motion.div\n            key=\"login\"\n            className=\"h-screen flex flex-col\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{\n              opacity: 1,\n              y: 0,\n              transition: {\n                duration: 0.7,\n                ease: [0.22, 0.03, 0.36, 1.0]\n              }\n            }}\n            exit={{\n              opacity: 0,\n              y: -20,\n              transition: {\n                duration: 0.5,\n                ease: [0.22, 0.03, 0.36, 1.0]\n              }\n            }}\n            id=\"agent-portal-container\"\n          >\n            {/* Navigation for the login screen */}\n            <div className=\"bg-white/10 backdrop-blur-md shadow-md agent-portal-nav\">\n              <div className=\"container mx-auto px-4 py-3\">\n                <div className=\"flex justify-between items-center\">\n                  <Link to=\"/\" className=\"flex items-center gap-2 text-white\">\n                    <Home size={20} />\n                    <span className=\"font-medium\">Return to Homepage</span>\n                  </Link>\n                  <div className=\"flex items-center space-x-4\">\n                    <Link to=\"/services\" className=\"text-white/90 hover:text-white flex items-center gap-1 text-sm\">\n                      <Users size={16} />\n                      <span>Our Services</span>\n                    </Link>\n                    <Link to=\"/workwithme\" className=\"text-white/90 hover:text-white flex items-center gap-1 text-sm\">\n                      <ArrowUpRight size={16} />\n                      <span>Work With Us</span>\n                    </Link>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"flex-grow grid lg:grid-cols-5\">\n              {/* Left side - Password form (2 columns) */}\n              <motion.div\n                className=\"lg:col-span-2 flex items-center justify-center p-8 bg-white\"\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ duration: 0.5, delay: 0.2 }}\n              >\n                <div className=\"w-full max-w-md space-y-8\">\n                  <div>\n                    <div className=\"flex justify-center mb-4\">\n                      <div className=\"h-16 w-16 bg-gradient-to-r from-blue-600 to-brand-blue rounded-2xl flex items-center justify-center shadow-lg transform -rotate-6\">\n                        <Lock className=\"h-8 w-8 text-white\" />\n                      </div>\n                    </div>\n                    <h1 className=\"text-3xl font-bold text-gray-900 text-center\">Agent Portal</h1>\n                    <p className=\"mt-2 text-gray-600 text-center\">\n                      Enter the password to access the transaction form\n                    </p>\n                  </div>\n\n                  <form onSubmit={handlePasswordSubmit} className=\"mt-8 space-y-6 agent-portal-login-form\">\n                    <div className=\"space-y-2\">\n                      <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                        Password\n                      </label>\n                      <div className=\"relative\">\n                        <div className=\"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none\">\n                          <Lock className=\"h-5 w-5 text-gray-400\" />\n                        </div>\n                        <Input\n                          id=\"password\"\n                          name=\"password\"\n                          type={showPassword ? \"text\" : \"password\"}\n                          required\n                          value={password}\n                          onChange={(e) => setPassword(e.target.value)}\n                          className=\"pl-10 pr-10 py-6\"\n                          placeholder=\"Enter portal password\"\n                          autoComplete=\"new-password\"\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => setShowPassword(!showPassword)}\n                          className=\"absolute inset-y-0 right-0 flex items-center pr-3\"\n                        >\n                          {showPassword ? (\n                            <EyeOff className=\"h-5 w-5 text-gray-400\" />\n                          ) : (\n                            <Eye className=\"h-5 w-5 text-gray-400\" />\n                          )}\n                        </button>\n                      </div>\n                    </div>\n\n                    <div className=\"flex items-center\">\n                      <div className=\"relative h-5 w-5\">\n                        <input\n                          id=\"remember-me\"\n                          name=\"remember-me\"\n                          type=\"checkbox\"\n                          checked={rememberMe}\n                          onChange={(e) => setRememberMe(e.target.checked)}\n                          className=\"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                        />\n                        {rememberMe && (\n                          <motion.div\n                            initial={{ scale: 0 }}\n                            animate={{ scale: 1 }}\n                            transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\n                            className=\"absolute inset-0 flex items-center justify-center pointer-events-none\"\n                          >\n                            <CheckCircle className=\"h-4 w-4 text-blue-600\" />\n                          </motion.div>\n                        )}\n                      </div>\n                      <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-700\">\n                        Remember me on this device\n                      </label>\n                    </div>\n\n                    <div className=\"flex justify-center\">\n                      <Button\n                        type=\"submit\"\n                        disabled={isPasswordChecking}\n                        className=\"w-full py-6 bg-gradient-to-r from-blue-600 to-brand-blue hover:shadow-lg transition-all duration-300 text-white font-medium\"\n                      >\n                        {isPasswordChecking ? (\n                          <RefreshCw className=\"h-5 w-5 animate-spin\" />\n                        ) : (\n                          <>\n                            <span>Access Portal</span>\n                            <ChevronRight className=\"ml-2 h-5 w-5\" />\n                          </>\n                        )}\n                      </Button>\n                    </div>\n                  </form>\n\n                  {/* Testimonial */}\n                  <motion.div\n                    className=\"mt-10 pt-6 border-t border-gray-200\"\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    transition={{ delay: 0.6, duration: 0.5 }}\n                  >\n                    <div className=\"relative\">\n                      <svg className=\"absolute top-0 left-0 transform -translate-x-4 -translate-y-4 h-8 w-8 text-blue-400 opacity-30\" fill=\"currentColor\" viewBox=\"0 0 32 32\">\n                        <path d=\"M9.352 4C4.456 7.456 1 13.12 1 19.36c0 5.088 3.072 8.064 6.624 8.064 3.36 0 5.856-2.688 5.856-5.856 0-3.168-2.208-5.472-5.088-5.472-.576 0-1.344.096-1.536.192.48-3.264 3.552-7.104 6.624-9.024L9.352 4zm16.512 0c-4.8 3.456-8.256 9.12-8.256 15.36 0 5.088 3.072 8.064 6.624 8.064 3.264 0 5.856-2.688 5.856-5.856 0-3.168-2.304-5.472-5.184-5.472-.576 0-1.248.096-1.44.192.48-3.264 3.456-7.104 6.528-9.024L25.864 4z\" />\n                      </svg>\n                      <p className=\"relative text-gray-600 italic\">\n                        \"The transaction portal has saved our team countless hours. It's become an essential part of our workflow.\"\n                      </p>\n                      <div className=\"mt-2 flex items-center\">\n                        <div className=\"flex-shrink-0\">\n                          <div className=\"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center\">\n                            <span className=\"text-blue-600 font-semibold\">JD</span>\n                          </div>\n                        </div>\n                        <div className=\"ml-3\">\n                          <p className=\"text-sm font-medium text-gray-900\">John Doe</p>\n                          <p className=\"text-xs text-gray-500\">Top Producing Agent</p>\n                        </div>\n                      </div>\n                    </div>\n                  </motion.div>\n                </div>\n              </motion.div>\n\n              {/* Right side - Features (3 columns) */}\n              <motion.div\n                className=\"hidden lg:block lg:col-span-3 relative overflow-hidden\"\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ duration: 0.5, delay: 0.3 }}\n              >\n                {/* Background with pattern overlay */}\n                <div className=\"absolute inset-0 bg-gradient-to-br from-blue-800 to-blue-900\">\n                  <div className=\"absolute inset-0 bg-[url('/pattern-grid.svg')] opacity-10\"></div>\n                  {/* Decorative circles */}\n                  <div className=\"absolute top-20 right-20 w-40 h-40 bg-blue-500/10 rounded-full blur-xl\"></div>\n                  <div className=\"absolute bottom-20 left-20 w-60 h-60 bg-blue-400/10 rounded-full blur-xl\"></div>\n                </div>\n\n                <div className=\"relative h-full z-10 flex flex-col p-12\">\n                  <div className=\"flex-grow flex flex-col items-start justify-center max-w-2xl mx-auto\">\n                    {/* Header */}\n                    <div className=\"mb-12\">\n                      <div className=\"inline-flex items-center px-3 py-1 rounded-full bg-white/10 backdrop-blur-sm text-white text-sm mb-4\">\n                        <span className=\"h-2 w-2 rounded-full bg-green-400 mr-2\"></span>\n                        <span>Secure Agent Portal</span>\n                      </div>\n                      <h2 className=\"text-4xl font-bold text-white mb-4\">Transaction Coordination Portal</h2>\n                      <p className=\"text-white/80 text-lg\">\n                        Streamline your real estate transactions with our dedicated coordination service.\n                        Submit your details once and let us handle the rest.\n                      </p>\n                    </div>\n\n                    {/* Features with enhanced styling */}\n                    <div className=\"space-y-8 mb-12 w-full\">\n                      {features.map((feature, index) => {\n                        const Icon = feature.icon;\n                        return (\n                          <motion.div\n                            key={index}\n                            className=\"flex gap-6 bg-white/5 backdrop-blur-sm p-6 rounded-2xl border border-white/10 hover:bg-white/10 transition-all duration-300\"\n                            initial={{ opacity: 0, y: 20 }}\n                            animate={{ opacity: 1, y: 0 }}\n                            transition={{ duration: 0.5, delay: 0.4 + (index * 0.1) }}\n                            whileHover={{ y: -5 }}\n                          >\n                            <div className=\"bg-gradient-to-br from-blue-500 to-brand-blue p-4 rounded-xl shadow-lg\">\n                              <Icon className=\"h-6 w-6 text-white\" />\n                            </div>\n                            <div>\n                              <h3 className=\"font-semibold text-xl text-white\">{feature.title}</h3>\n                              <p className=\"text-white/80 mt-1\">{feature.description}</p>\n                            </div>\n                          </motion.div>\n                        );\n                      })}\n                    </div>\n\n                    {/* Stats section */}\n                    <motion.div\n                      className=\"grid grid-cols-3 gap-4 w-full\"\n                      initial={{ opacity: 0 }}\n                      animate={{ opacity: 1 }}\n                      transition={{ delay: 0.7, duration: 0.5 }}\n                    >\n                      {stats.map((stat, index) => (\n                        <div key={index} className=\"bg-white/5 backdrop-blur-sm rounded-xl p-4 text-center border border-white/10\">\n                          <p className=\"text-2xl font-bold text-white\">{stat.value}</p>\n                          <p className=\"text-xs text-blue-200 uppercase tracking-wider\">{stat.label}</p>\n                        </div>\n                      ))}\n                    </motion.div>\n                  </div>\n\n                  {/* Footer note */}\n                  <div className=\"mt-auto pt-6 border-t border-white/10 text-white/60 flex items-center justify-between\">\n                    <p className=\"text-sm\">Â© {new Date().getFullYear()} PA Real Estate Support Services</p>\n                    <div className=\"flex items-center gap-4\">\n                      <Link to=\"/privacy\" className=\"text-sm hover:text-white transition-colors\">Privacy Policy</Link>\n                      <Link to=\"/terms\" className=\"text-sm hover:text-white transition-colors\">Terms of Service</Link>\n                    </div>\n                  </div>\n                </div>\n              </motion.div>\n            </div>\n          </motion.div>\n        ) : (\n          <motion.div\n            key=\"form\"\n            className=\"h-screen bg-gradient-to-br from-gray-50 to-gray-100\"\n            initial={{ opacity: 0, y: 20 }}\n            animate={{\n              opacity: 1,\n              y: 0,\n              transition: {\n                duration: 0.7,\n                ease: [0.22, 0.03, 0.36, 1.0]\n              }\n            }}\n            exit={{\n              opacity: 0,\n              y: -20,\n              transition: {\n                duration: 0.5,\n                ease: [0.22, 0.03, 0.36, 1.0]\n              }\n            }}\n          >\n            {showForm && (\n              <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ duration: 0.5 }}\n              >\n                <TransactionForm />\n              </motion.div>\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default AgentPortal;\n"
        }
    ]
}